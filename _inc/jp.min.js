!function(a,b,c,d){function e(){a(".shade, .modal header .close").on("click",function(){return a(".shade, .modal").hide(),a(".manage-right").removeClass("show"),!1})}function f(c){var d,e,f=[],g=[],h="";for(d=0,e=b.length;e>d;d++)h="name"===c?b[d][c].toLowerCase():parseInt(10*b[d][c].replace("0:",""),10),f.push({index:d,value:h});for(f.sort(function(a,b){return"name"===c?a.value>b.value?1:-1:b.value>a.value?1:-1}),d=0,e=f.length;e>d;d++)g.push(b[f[d].index]),g[d].index=d;b=g,a(".load-more").is(":visible")||a(".module").fadeIn()}function g(){var c,d,e,g;for(f("name"),a(".modules").html(ich.category()),e=0;e<b.length;e++)for(c=b[e].module_tags,d=0;d<c.length;d++)g="category-"+c[d].toLowerCase().replace(".","").replace(/ /g,"-"),a("."+g+" .clear").before(ich.mod(b[e],!0));k(),i()}function h(){a("#a8c-service-toggle, .dops-close").click(function(){return a(".a8c-dops").toggleClass("show"),a("#a8c-service-toggle .genericon").toggleClass("genericon-downarrow").toggleClass("genericon-uparrow"),!1}),a(".load-more").click(function(){return m(),!1}),a("#newest, #category, #alphabetical").on("click",function(){var b=a(this),c=b.data("filter");return a(".jp-filter a").removeClass("selected"),b.addClass("selected"),"cat"===c?g():(f(c),j()),m(),!1}),a("#jetpack-search").on("keyup search",function(){var b=a(this).val();l(b)}),a("#module-search").on("submit",function(a){a.preventDefault()}),a(document).ready(function(){i()});var b=!1;window.onresize=function(){b||(b=!0,k(),setTimeout(function(){b=!1},100))},e(),a(".showFilter a").on("click",function(){return a(".showFilter a").removeClass("active"),a(this).addClass("active"),!1})}function i(){var c=a(".modal");a(".module, .feature a, .configs a").on("click",function(d){d.preventDefault(),a(".shade").show(),c.html(ich.modalLoading({},!0)).fadeIn();var f=a(this),g=f.data("index"),h=f.data("name");c.html(ich.modalTemplate({},!0)),c.find("header li").first().text(h),c.find(".content").html(""),c.find(".content").html(b[g].long_description),e(),a(".modal header li a").on("click",function(){return a(".modal header li a").removeClass("active"),a(this).addClass("active"),!1})})}function j(){var d,e,f="",g=[];if(0!==a(".configure").length){for(e=0;e<b.length;e++)f+=ich.modconfig(b[e],!0);a("table tbody").html(f)}else{for(a(".feature a.f-img").each(function(){g.push(a(this).data("name"))}),e=0;e<b.length;e++)-1!==c.indexOf(b[e].introduced)&&(b[e]["new"]=!0),d=g.indexOf(b[e].name),d>-1&&a(".feature").eq(d).find("a").data("index",e),b[e].index=e,f+=ich.mod(b[e],!0);a(".modules").html(f),k(),i()}}function k(){var b,c=a(".module, .jp-support-column-left .widget-text"),d=0;c.css("height","auto"),c.each(function(){b=a(this).outerHeight(),b>d&&(d=b)}),c.css("height",d+"px")}function l(c){var e,f,g,h,j="";for(e=0;e<b.length;e++)f=b[e].description.toLowerCase(),g=b[e].name.toLowerCase(),h=c.toLowerCase(),(-1!==g.indexOf(h)||-1!==f.indexOf(h))&&(j+=ich.mod(b[e],!0)),a(".modules").html(j);""===j&&a(".modules").text(d.no_modules_found.replace("{term}",c)),k(),i()}function m(){a(".module").fadeIn(),a(".load-more").hide()}function n(){a(".load-more").text(d.view_all_features)}a(document).ready(function(){h(),f("introduced"),j(),n()})}(jQuery,jetpackL10n.modules,jetpackL10n.currentVersion,jetpackL10n);