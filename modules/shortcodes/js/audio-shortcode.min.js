!function(a){window.audioshortcode={prep:function(b,c,d,e,f){var g=a("#wp-as-"+b+"-container");if(!g.hasClass("wp-as-prepped")&&(g.addClass("wp-as-prepped"),document.createElement("audio").canPlayType&&(player=a("#wp-as-"+b).get(0),"undefined"!=typeof player))){this[b]=[],this[b].i=0,this[b].files=c,this[b].titles=d,player.volume=e;for(var h={mp3:"mpeg",wav:"wav",ogg:"ogg",oga:"ogg",m4a:"mp4",aac:"mp4",webm:"webm"},i=this[b].files.length-1;i>=0;i--){var j=this[b].files[i].split(".").pop(),k="audio/"+h[j];player.canPlayType(k)||this.remove_track(b,i)}0!==this[b].files.length&&(player.src=this[b].files[0],1<this[b].files.length&&a("#wp-as-"+b+"-controls").show(),player.addEventListener("error",function(){audioshortcode.remove_track(b,audioshortcode[b].i),0<audioshortcode[b].files.length&&(audioshortcode[b].i--,audioshortcode.next_track(b,!1,f))},!1),player.addEventListener("ended",function(){audioshortcode.next_track(b,!1,f)},!1),player.addEventListener("play",function(){var c=audioshortcode[b].i,d=audioshortcode[b].titles;a("#wp-as-"+b+"-playing").text(" "+d[c])},!1),player.addEventListener("pause",function(){a("#wp-as-"+b+"-playing").text("")},!1))}},remove_track:function(b,c){this[b].files.splice(c,1),this[b].titles.splice(c,1),0===this[b].files.length?(a("#wp-as-"+b+"-container").html(a("#wp-as-"+b+"-nope").html()),a("#wp-as-"+b+"-controls").html("")):1==this[b].files.length&&a("#wp-as-"+b+"-controls").html("")},start_track:function(b,c){var d=a("#wp-as-"+b).get(0);d.src=c,d.load(),d.play()},prev_track:function(b){var c=a("#wp-as-"+b).get(0),d=this[b].files;c.paused||0===this[b].i||(c.pause(),0<this[b].i&&(this[b].i--,this.start_track(b,d[this[b].i])))},next_track:function(b,c,d){var e=a("#wp-as-"+b).get(0),f=this[b].files;(!c||!e.paused&&f.length-1!=this[b].i)&&(e.pause(),f.length-1>this[b].i?(this[b].i++,this.start_track(b,f[this[b].i])):d?(this[b].i=0,this.start_track(b,0)):(this[b].i=0,e.src=f[0],a("#wp-as-"+b+"-playing").text("")))}}}(jQuery);