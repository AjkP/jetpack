!function(a){function b(b){var d,e,f,g,h;d=this,d.wrapper=a(b),d.slideshow=a(".presentation",b),d.navLeft=a(".nav-arrow-left",b),d.navRight=a(".nav-arrow-right",b),d.expandButton=a(".nav-fullscreen-button",b),d.overlay=a(".autoplay-overlay",b),d.fullscreen=!1,d.autoPlaying=!1,d.autoplayTime=parseFloat(d.slideshow.attr("data-autoplay"),10)||0,d.wrapper.css({width:d.slideshow.width(),height:d.slideshow.height()}),e=d.slideshow.attr("duration")||"1s",c.animation.transitionDuration=e,d.autoplayTime&&(d.autoplayTime+=1e3*parseFloat(e,10)),e="opacity "+e,f={width:d.slideshow.width(),height:d.slideshow.height(),"-webkit-transition":e,"-moz-transition":e,"-ms-transition":e,"-o-transition":e,transition:e},a(".step",d.slideshow).each(function(b,c){a(c).css(f)}),a(".step.fadebullets li",d.slideshow).each(function(b,c){a(c).attr("data-jmpress","fade")}),a(window).resize(function(){d.fullscreen&&d.resizePresentation()}),d.navLeft.on("click",function(){return d.slideshow.jmpress("prev"),d.overlay.css("opacity",0),!1}),d.navRight.on("click",function(){return d.slideshow.jmpress("next"),d.overlay.css("opacity",0),!1}),d.slideshow.on("click",function(){return d.setAutoplay(!0),!1}),d.slideshow.on("focusout",function(){d.setAutoplay(!1)}),g=/MSIE\s(\d+)\.\d+/,h=g.exec(navigator.userAgent),h&&parseInt(h[1],10)<10?(d.expandButton.remove(),d.expandButton=null):d.expandButton.on("click",function(){return d.setFullscreen(!d.fullscreen),!1}),a(window).on("keydown",function(a){27==a.which&&d.setFullscreen(!1)}),d.slideshow.jmpress(c),d.slideshow.jmpress("initialized")&&(d.slideshow.css("display",""),d.overlay.css("display",""),a(".not-supported-msg",d.wrapper).remove()),d.setFullscreen(!1)}var c={fullscreen:!1,hash:{use:!1},mouse:{clickSelects:!1},keyboard:{use:!0},animation:{transitionDuration:"1s"},presentationMode:!1,stepSelector:".step",duration:{defaultValue:0}};a.extend(b.prototype,{resizePresentation:function(){var b,c,d,e,f,g;d=this.slideshow.jmpress("settings"),c=d.animation.transitionDuration,d.animation.transitionDuration="0s",this.slideshow.jmpress("reselect"),b=1,e={top:0,left:0,zoom:1},this.fullscreen&&(f=a(window).width()/this.slideshow.width(),g=a(window).height()/this.slideshow.height(),b=Math.min(f,g),e.top=(a(window).height()-b*this.slideshow.height())/2,e.left=(a(window).width()-b*this.slideshow.width())/2),this.slideshow.css("-moz-transform")||this.slideshow.css("-ms-transform")?(e.top+=(b-1)*this.slideshow.height()/2,e.left+=(b-1)*this.slideshow.width()/2,b="scale("+b+")",a.extend(e,{"-moz-transform":b,"-ms-transform":b,transform:b})):(e.top/=b,e.left/=b,e.zoom=b),this.slideshow.css(e),d.animation.transitionDuration=c,this.slideshow.jmpress("reselect")},setFullscreen:function(b){this.fullscreen=b,this.setAutoplay(!1),b&&(this.scrollVert=a(window).scrollTop(),this.scrollHoriz=a(window).scrollLeft(),a(window).scrollTop(0),a(window).scrollLeft(0)),a("html").toggleClass("presentation-global-fullscreen",b),a("body").toggleClass("presentation-global-fullscreen",b),this.wrapper.toggleClass("presentation-wrapper-fullscreen",b),this.wrapper.parents().each(function(c,d){a(d).toggleClass("presentation-wrapper-fullscreen-parent",b)}),this.resizePresentation(),b||(a(window).scrollTop(this.scrollVert),a(window).scrollLeft(this.scrollHoriz))},setAutoplay:function(a){var b,c=this;c.autoPlaying!=a&&(b=a&&c.autoplayTime>0?c.autoplayTime:0,c.slideshow.jmpress("settings").duration.defaultValue=b,b?(c.slideshow.jmpress("next"),c.overlay.css("opacity",0)):c.slideshow.jmpress("reselect"),c.autoPlaying=a)}}),a(document).ready(function(){a(".presentation-wrapper").map(function(){new b(this)})})}(jQuery);